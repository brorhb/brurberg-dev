<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css"/><link rel="stylesheet" href="/styles.css"/><title>brurberg.dev</title><meta name="twitter:title" content="brurberg.dev"/><meta name="og:title" content="brurberg.dev"/></head><body class="sans-serif"><div><div><div class="tc pv4 pv5-ns"><a href="/"><img src="https://avatars3.githubusercontent.com/u/12571304?s=460&v=4" class="br-100 pa1 ba b--black-10 h3 w3" alt="Avatar"/></a><a href="/" class="no-underline"><h1 class="f5 f4-ns fw6 mid-gray">brurberg.dev</h1></a><h2 class="f6 gray fw2 ttu tracked">Just another remote app developer</h2><div class="tc pa3"><a class="f6 fw4 hover-black no-underline black-60 dn dib-ns pv2 ph3" href="/about">About</a><a class="f6 fw4 hover-black no-underline black-60 dn dib-ns pv2 ph3" href="/articles">Articles</a><a class="f6 fw4 hover-black no-underline black-60 dn dib-ns pv2 ph3" href="/projects">Projects</a></div></div></div><div class="sans-serif tc"><div class="ph2 mw6-ns"><p class="f5 fw4 gray mt0 w-80">06.11.2019</p><div class="post-tags"><a class="mr1 f6 grow no-underline br-pill ph2 pv1 mb1 dib white bg-pink">flutter</a></div><div><div class="tl"><h1>UI Testing</h1><p>Previously I posted about my 2.0 update, and today I plan on updating to 2.0.3. I’m still a lone-wolf app developer in my company, and I have now taken the task to push updates every 2 to 3 weeks. These updates can be anything from features to patches and bug squashing.</p><p>To update this often, and to be the only developer I need to make sure everything I give to the testers pass some sort of quality control. I need something repeatable consistent and quick to test that the builds I ship work. That new features and fixes don’t mess something up in some other part of my apps.</p><p>Enter UI testing! 😁 This post won’t be about Flutter in particular, but why I think UI testing is crucial for my work, and the result from implementing them.</p><p>Well, I lied 🤥, I need to mention Flutter. To do my testing, I use <a href="https://flutter.dev/docs/cookbook/testing/integration/introduction">flutter_driver</a>. Flutter driver starts the app in a simulator, or on a device. And it works it’s way trough your instructions and actually behaves like a user. It taps the screen, scrolls goes back like a user would.</p><p>So I have implemented scripts in my applications that navigates trough all my normal workflows in the apps. I can watch it zoom 🏎 trough the app, reporting crashes and successes so I can act on them. I also love how it looks!😎</p><img src="https://cdn-images-1.medium.com/max/2000/1*DkBIyVW1Jy0BSflvsf735Q.gif" alt="flutter_driver zooms trough some base functionality"/><p>As you can see, the flutter_driver actually runs the app. Inputs login info, log in a user, waits for data to load and then starts to act on it. This is not all my tests, in total it runs for around 30seconds to a minute. I don’t mock any of my api-calls, I would rather like it to take longer, then to keep updating my mock data as the api changes. It also makes it easier for me, if one of the testers get some issues. If they want to give me some credentials, I can run trough the whole app as them, making it way easier to find the real issue of bug they encountered.</p><p>Before I start the process of a new build, I always run trough these tests. The result I have observed over the last couple of weeks where I’ve been doing this is: Fewer crash-reports in <a href="https://sentry.io/welcome/">sentry</a>, fewer bugs reported by the testers, and increased satisfaction from the testers that they don’t encounter the red screen of death the Flutter can produce.</p><p>So I see only positivities in doing UI testing. I find bugs 🐛 easier, I have a good way to replicate issues and I can provide more stable builds to my testers, that again provide a better app for the users!</p><img src="https://cdn-images-1.medium.com/max/2000/1*-YNKSjUGMrua3IOT-J7P0g.png" alt="The famous “red screen of death” produced by Flutter"/><p>Now you might think 💭: “This must have taken a while to implement!”.</p><p>I can then surprise you by saying that Chemical Manager (the biggest of my apps) took me around 7 hours. 7 hours to write all my tests and test them 😅 This is an app with an authentication flow, multiple fetches, caching of network calls, and 14 unique screens (some are used multiple times).</p><p>I think it is well worth doing, it saves me time. I don’t have to release as many patches to my testers, since I catch critical bugs at an earlier stage.</p><p>It is still very important to test the app with testers, and real devices. Testers have the amazing ability to encounter some wonderful edge cases you didn't think of! But they do like to test something that is somewhat stable, and they like to test the new feature they are supposed to test. Not to have the authentication flow fail on them, because you forgot you moved a login controller, or the like 😅 (yes, I did that… I tried to be smart, and did not test it).</p><p>I hope you found this useful, go write some UI tests, be it for web, Swift/obj-c, Java/Kotlin, React Native or flutter. There is frameworks that does what flutter_driver does for all of them 😄 Good luck! 🍀 You will thank yourself for doing it, and so will your users 😊</p></div></div></div></div></div></body></html>